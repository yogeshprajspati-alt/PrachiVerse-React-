<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>For My Ferry ğŸŒŠ</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

<style>
:root{
  --pink:#ec4899;
  --violet:#8b5cf6;
  --gold:#fcd34d;
  --deep:#020617;
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(-45deg,#020617,#020024,#1e1b4b,#020617);
  background-size:400% 400%;
  animation:bgMove 25s ease infinite;
  color:#fff;
  min-height:100vh;
  overflow:hidden;
}

@keyframes bgMove{
  0%,100%{background-position:0% 50%}
  50%{background-position:100% 50%}
}

#particles-js{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}

/* STAGES */
.stage{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  opacity:0;
  pointer-events:none;
  transition:opacity 0.8s ease;
  z-index:5;
}
.stage.active{
  opacity:1;
  pointer-events:auto;
}

/* STAGE 1 â€“ BOAT */
.boat{
  font-size:6rem;
  animation:float 3s ease-in-out infinite;
  cursor:pointer;
  filter:drop-shadow(0 0 30px rgba(236,72,153,0.6));
}
@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-15px)}
}

.hint{
  margin-top:20px;
  opacity:0.7;
  font-size:1.1rem;
}

/* MESSAGE BOX */
.message-box{
  background:rgba(255,255,255,0.1);
  backdrop-filter:blur(20px);
  border:1px solid rgba(255,255,255,0.2);
  border-radius:24px;
  padding:35px;
  width:90%;
  max-width:650px;
  text-align:center;
  box-shadow:0 0 60px rgba(0,0,0,0.5);
}

.message-box h1{
  font-family:'Playfair Display',serif;
  font-size:clamp(2rem,6vw,3.2rem);
  background:linear-gradient(45deg,var(--violet),var(--pink),var(--gold));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:20px;
}

#typedText{
  min-height:150px;
  max-height:300px;
  overflow-y:auto;
  white-space:pre-wrap;
  font-size:1.05rem;
  line-height:1.8;
  position:relative;
}

/* Cursor */
#typedText::after{
  content:'';
  position:absolute;
  width:4px;
  height:1.2em;
  background:var(--pink);
  margin-left:4px;
  animation:blink 0.8s steps(1) infinite;
}

#typedText.done::after{display:none}

@keyframes blink{
  0%,50%{opacity:1}
  50.1%,100%{opacity:0}
}

.continue{
  margin-top:25px;
  padding:14px 36px;
  border-radius:50px;
  border:none;
  background:linear-gradient(45deg,var(--pink),var(--violet));
  color:#fff;
  font-weight:600;
  font-size:1.1rem;
  cursor:pointer;
  opacity:0;
  pointer-events:none;
  transition:0.4s;
}
.continue.show{
  opacity:1;
  pointer-events:auto;
}

/* GIFT BOX */
.gift-box{
  font-size:6rem;
  cursor:pointer;
  animation:pulse 1.8s ease-in-out infinite;
}
@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.1)}
}

.cards{
  display:flex;
  gap:20px;
  margin-top:30px;
  flex-wrap:wrap;
  justify-content:center;
}

.card{
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(15px);
  border-radius:20px;
  padding:25px;
  width:260px;
  text-align:center;
  box-shadow:0 0 30px rgba(0,0,0,0.4);
  animation:rise 0.8s ease forwards;
}

@keyframes rise{
  from{transform:translateY(30px);opacity:0}
  to{transform:translateY(0);opacity:1}
}

/* MUSIC */
#music{
  position:fixed;
  bottom:20px;
  right:20px;
  width:56px;
  height:56px;
  border-radius:50%;
  border:none;
  font-size:1.5rem;
  background:rgba(236,72,153,0.4);
  color:#fff;
  cursor:pointer;
  z-index:100;
}
</style>
</head>

<body>

<div id="particles-js"></div>

<!-- STAGE 1 -->
<div class="stage active" id="s1">
  <div class="boat">â›´ï¸</div>
  <div class="hint">Tap the ferry ğŸŒŠ</div>
</div>

<!-- STAGE 2 -->
<div class="stage" id="s2">
  <div class="message-box">
    <h1>Dear Ferry ğŸ’–</h1>
    <div id="typedText"></div>
    <button class="continue" id="next">Almost there â†’</button>
  </div>
</div>

<!-- STAGE 3 -->
<div class="stage" id="s3">
  <div class="message-box">
    <h1>For You ğŸ</h1>
    <div class="gift-box" id="gift">ğŸ</div>
    <div class="cards" id="cards"></div>
  </div>
</div>

<button id="music">ğŸ”‡</button>
<audio id="bg" loop>
  <source src="playdate.mp3" type="audio/mpeg">
</audio>

<script>
particlesJS('particles-js',{
  particles:{
    number:{value:50},
    color:{value:['#ec4899','#8b5cf6','#fcd34d']},
    size:{value:3,random:true},
    move:{speed:1}
  }
});

const msg=`Some people donâ€™t change your destinationâ€¦
They help you cross ğŸŒŠ

Youâ€™ve been that ferry for me.
Calm when everything felt noisy,
steady when I wasnâ€™t.

Thank you for being my safe passage.
For staying.
For understanding.

And for crossing with me ğŸ’–`;

const typed=document.getElementById('typedText');
const next=document.getElementById('next');
let i=0;

function type(){
  if(i<msg.length){
    typed.textContent+=msg[i++];
    typed.scrollTop=typed.scrollHeight;
    setTimeout(type,80);
  }else{
    typed.classList.add('done');
    next.classList.add('show');
  }
}

document.querySelector('.boat').onclick=()=>{
  document.getElementById('s1').classList.remove('active');
  document.getElementById('s2').classList.add('active');
  type();
  playMusic();
};

next.onclick=()=>{
  document.getElementById('s2').classList.remove('active');
  document.getElementById('s3').classList.add('active');
};

document.getElementById('gift').onclick=()=>{
  const cards=document.getElementById('cards');
  cards.innerHTML=`
    <div class="card">
      <h3>ğŸ¦¥ğŸ¥³</h3>
      <p><strong>Congratulations!</strong><br>
      You got a premium membership of my annoying side ğŸ¦¥ğŸ¥³</p>
    </div>
    <div class="card">
      <h3>ğŸ§ Spotify</h3>
      <p><strong>3 months of Spotify Premium Membership</strong></p>
    </div>`;
};

const bg=document.getElementById('bg');
const music=document.getElementById('music');
let playing=false;

function playMusic(){
  if(!playing){
    bg.volume=0.3;
    bg.play().catch(()=>{});
    playing=true;
    music.textContent='ğŸ”Š';
  }
}
music.onclick=()=>{
  if(playing){
    bg.pause();playing=false;music.textContent='ğŸ”‡';
  }else playMusic();
};
</script>

</body>
</html>
